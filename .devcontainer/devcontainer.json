{
    "name": "craft",
    "dockerComposeFile": "../docker-compose.yml",
    // "workspaceMount": "source=${localWorkspaceFolder},target=/app,type=bind,consistency=cached",
    "workspaceFolder": "/app",
    "service": "workspace",
    "shutdownAction": "stopCompose",
    "customizations": {
        // Config for VS Code:
        "vscode": {
            // Recommended extensions:
            "extensions": [
                "bmewburn.vscode-intelephense-client",
                "mblode.twig-language",
                "xdebug.php-debug"
            ],
            // Additional settings:
            "settings": {}
        },
        // Config for GitHub Codespaces:
        "codespaces": {
            "openFiles": [
                "templates/index.twig",
                "config/general.php"
            ]
        }
    },
    // Copy configuration files (.env + composer.json) into place:
    "initializeCommand": "cp -n .env.example.dev .env ; test -f composer.json.default && mv -f composer.json.default composer.json ; echo \"Configuration files are in place!\"",
    // Install packages:
    "postCreateCommand": "composer install",
    // Run Craftâ€™s setup wizard, if this is the first time attaching to the container:
    "postAttachCommand": "php craft install/check || php craft setup/welcome",
    // Forward from our web container:
    "forwardPorts": [8080, 3306],
    // Labels for forwarded ports:
    "portsAttributes": {
        "8080": {
            "label": "HTTP"
        },
        "3306": {
            "label": "Database"
        }
    },
    // Disregard default workspace `CMD` and use the default "keep-alive" process:
    "overrideCommand": true
}
